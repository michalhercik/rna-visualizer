# RNA visualizer

The study of RNA is important to better understand evolution or some diseases.
Here, we present a library written in Typescript that offers methods for visual
analysis of multiple RNA secondary structures, but preferably work best with
two or three structures. For the representation we use radial diagram, which is
generated by template-based method. Methods used in the library for analysis
use the template-based generation of the radial diagram by mapping diagrams
generated from the same template to each other via the template, so that
differences and similarities of structures can be observed. Specifically
library helps with structures alignment, supports animations, transformation
from/to template structure and generates lines connecting nucleotide with it's
template nucleotide.
 - For better understanding of what library is capable of checkout
   [demo](https://michalhercik.github.io/rna-visualizer/)
 - Reference [documentation](./lib/docs/README.md) generated from source code with UML class diagrams.
 - This library is part of [bachelor
   thesis](https://github.com/michalhercik/bachelor-thesis/blob/master/cs/build/prace.pdf)
   (written in czech) which describes this library in detail. 

## Installation

For use in your own npm project simply run the following command to install the
library and save the dependency to your package.json file.

```
npm install --save rna-visualizer
```

## Build

### Requirements
 - Node ([download website](https://nodejs.org/en/download))
 - Git ([download website](https://git-scm.com/downloads))

### Clone repository

```
git clone git@github.com:michalhercik/rna-visualizer.git
```

### Build library

```
cd rna-visualizer/lib
npm install
npm run build
```

### Build demo

```
cd rna-visualizer/demo
npm install
npm run build
```

## Example

For more complex example that demonstrate all functionality checkout the demo
[source code](./demo/src).

```typescript
import { RnaVis, IRnaInput } from 'rna-visualizer';

let template: IRnaInput = {
    classes: [
	{
	    "font-size": "8.334300px",
	    "name": "font"
	},
	{
	    "name": "bp-line",
	    "stroke-width": 1.0418
	}
    ],
    rnaComplexes: [{
	name: 'complex',
	rnaMolecules: [{
	    name: 'molecule',
	    basePairs: [],
	    labels: [],
	    sequence: [ 
		{
		    classes: [
			"font"
		    ],
		    residueIndex: 0,
		    residueName: "5'",
		    templateResidueIndex: 0,
		    templateResidueName: "5'",
		    x: 40.87118826578342,
		    y: 24.000074999171886
		},
		{
		    classes: [
			'font'
		    ],
		    residueIndex: 1,
		    residueName: 'C',
		    templateResidueIndex: 1,
		    templateResidueName: 'C',
		    x: 40.87118826578342,
		    y: 32.00009999889585
		},
	    ]
	}]
    }]
};

// Creating canvas on which will be rna secondary structure drawn.
let canvas = document.createElement('canvas');
document.body.appendChild(canvas);

// Creating RnaVis object with the template. Adding zoom and panning functionality.
let rnaVis = new RnaVis(canvas);
rnaVis
    .addLayer(template, "template")
    .addZoom()
    .draw();
```

